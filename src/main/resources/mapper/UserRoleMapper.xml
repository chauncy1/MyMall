<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.capgemini.man.mapper.UserRoleMapper">
	<resultMap id="RoleBaseMap" type="com.capgemini.man.entity.UserRole">
        <id property="roleId" column="user_role_id" />
        <result property="roleName" column="user_role_name" />
        <result property="roleDesc" column="user_role_desc" />
    </resultMap>

	<select id="getRoleListByUserId" resultMap="RoleBaseMap" parameterType="java.lang.Long">
		SELECT r.user_role_id,r.user_role_name,r.user_role_desc
		FROM user_role r
		LEFT JOIN user_role_mapping m ON m.user_role_id=r.user_role_id
		LEFT JOIN user_info u ON u.user_id=m.user_id
		WHERE u.user_id=#{userId}
	</select>
</mapper>
